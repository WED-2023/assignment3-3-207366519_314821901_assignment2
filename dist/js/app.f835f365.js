(()=>{"use strict";var e={712:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var r=n(20908),i=n(30388),a=(n(18107),n(88431),n(2008),n(62062),n(44114),n(54554),n(62010),n(18111),n(81148),n(22489),n(61701),n(26099),n(67357),n(11392),n(42762),n(56768)),o=n(45130),l=n(90144),s=n(27411),c=n(37307),u=n(48077),d={class:"modal-dialog modal-lg modal-dialog-scrollable"},p={class:"modal-content"},m={class:"modal-body"},f={class:"mb-3"},b={class:"mb-3"},v={class:"row mb-3"},g={class:"col"},h={class:"col"},k={class:"form-check form-switch mb-2"},y={class:"form-check form-switch mb-2"},L={class:"form-check form-switch mb-3"},w={class:"mb-3"},C=["onUpdate:modelValue"],R=["onClick"],x={class:"d-flex justify-content-between"},A=["onUpdate:modelValue"],F=["onClick"],_=["onUpdate:modelValue"],E=["onClick"],I=["onClick"],S={class:"mb-3"},P={key:0,class:"mt-2"},M=["src"];const O={__name:"CreateRecipeModal",setup:function(e,t){var n=t.expose,O=(0,s.dj)(),U=(0,l.KR)(null);function X(){if(U.value){var e=new u.aF(U.value);e.show()}}n({showModal:X});var V=(0,l.KR)(""),j=(0,l.KR)(""),T=(0,l.KR)(1),K=(0,l.KR)(1),W=(0,l.KR)(!1),$=(0,l.KR)(!1),N=(0,l.KR)(!1),q=(0,l.KR)([""]),B=(0,l.KR)([{name:"",steps:[""]}]),J=(0,l.KR)(""),G=(0,l.KR)(null),H=(0,l.KR)("\n  <div style='max-width: 300px;'>\n    <strong>Pexels:</strong><br>\n    <a href='https://www.pexels.com' target='_blank'>https://www.pexels.com</a><br>\n    1. Click a photo.<br>\n    2. Right-click → \"Copy Image Address\".<br>\n    <strong>Pixabay:</strong><br>\n    <a href='https://www.pixabay.com' target='_blank'>https://www.pixabay.com</a><br>\n    1. Open image in full resolution.<br>\n    2. Right-click → \"Copy Image Address\".<br>\n  </div>\n");function Q(){J.value.trim().startsWith("http")?G.value=J.value.trim():G.value=null}function D(){var e=q.value.at(-1);e&&""!==e.trim()?q.value.push(""):O.error("Please fill in the last ingredient before adding another.")}function Y(e){q.value.splice(e,1)}function z(){var e=B.value.at(-1);!e||""!==e.name.trim()&&e.steps.every((function(e){return""!==e.trim()}))?B.value.push({name:"",steps:[""]}):O.error("Please complete the current group before adding a new one.")}function Z(e){B.value.splice(e,1)}function ee(e){var t=B.value[e],n=t.steps.at(-1);""!==n.trim()?t.steps.push(""):O.error("Please fill in the previous step before adding another.")}function te(e,t){B.value[e].steps.splice(t,1)}function ne(){return re.apply(this,arguments)}function re(){return re=(0,i.A)((0,r.A)().m((function e(){var t,n,i,a;return(0,r.A)().w((function(e){while(1)switch(e.n){case 0:return e.p=0,t=J.value.trim()||"https://spoonacular.com/recipeImages/placeholder.png",n={title:V.value,description:j.value,readyInMinutes:T.value,servings:K.value,vegan:W.value,vegetarian:$.value,glutenFree:N.value,extendedIngredients:q.value.filter((function(e){return""!==e.trim()})).map((function(e){return{original:e}})),analyzedInstructions:B.value.map((function(e){return{name:e.name,steps:e.steps.filter((function(e){return""!==e.trim()})).map((function(e,t){return{number:t+1,step:e}}))}})),popularity:0,image:t},e.n=1,c.A.post("/users/RecipeDB",n);case 1:i=U.value,a=u.aF.getInstance(i)||new u.aF(i),a.hide(),O.success("Recipe submitted successfully!"),e.n=3;break;case 2:e.p=2,e.v,O.error("Error submitting recipe.");case 3:return e.a(2)}}),e,null,[[0,2]])}))),re.apply(this,arguments)}return(0,a.sV)((function(){var e=document.querySelector('[data-bs-toggle="popover"]');e&&new u.AM(e,{html:!0,content:H.value,trigger:"focus",placement:"right"})})),function(e,t){return(0,a.uX)(),(0,a.CE)("div",{class:"modal fade",id:"createRecipeModal",tabindex:"-1","aria-labelledby":"createRecipeModalLabel","aria-hidden":"true",ref_key:"modalRef",ref:U},[(0,a.Lk)("div",d,[(0,a.Lk)("div",p,[(0,a.Lk)("form",{id:"createRecipeForm",onSubmit:(0,o.D$)(ne,["prevent"])},[t[21]||(t[21]=(0,a.Lk)("div",{class:"modal-header"},[(0,a.Lk)("h5",{class:"modal-title",id:"createRecipeModalLabel"},"Create New Recipe"),(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,a.Lk)("div",m,[(0,a.Lk)("div",f,[t[8]||(t[8]=(0,a.Lk)("label",{class:"form-label"},"Title",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return V.value=e}),class:"form-control",required:""},null,512),[[o.Jo,V.value]])]),(0,a.Lk)("div",b,[t[9]||(t[9]=(0,a.Lk)("label",{class:"form-label"},"Description",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return j.value=e}),class:"form-control",required:""},null,512),[[o.Jo,j.value]])]),(0,a.Lk)("div",v,[(0,a.Lk)("div",g,[t[10]||(t[10]=(0,a.Lk)("label",{class:"form-label"},"Ready in Minutes",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",min:"1","onUpdate:modelValue":t[2]||(t[2]=function(e){return T.value=e}),class:"form-control",required:""},null,512),[[o.Jo,T.value]])]),(0,a.Lk)("div",h,[t[11]||(t[11]=(0,a.Lk)("label",{class:"form-label"},"Servings",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",min:"1","onUpdate:modelValue":t[3]||(t[3]=function(e){return K.value=e}),class:"form-control",required:""},null,512),[[o.Jo,K.value]])])]),(0,a.Lk)("div",k,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return W.value=e})},null,512),[[o.lH,W.value]]),t[12]||(t[12]=(0,a.Lk)("label",{class:"form-check-label"},"Vegan",-1))]),(0,a.Lk)("div",y,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=function(e){return $.value=e})},null,512),[[o.lH,$.value]]),t[13]||(t[13]=(0,a.Lk)("label",{class:"form-check-label"},"Vegetarian",-1))]),(0,a.Lk)("div",L,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return N.value=e})},null,512),[[o.lH,N.value]]),t[14]||(t[14]=(0,a.Lk)("label",{class:"form-check-label"},"Gluten Free",-1))]),(0,a.Lk)("div",w,[t[16]||(t[16]=(0,a.Lk)("label",{class:"form-label"},"Ingredients",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(q.value,(function(e,n){return(0,a.uX)(),(0,a.CE)("div",{key:n,class:"input-group mb-2"},[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":function(e){return q.value[n]=e},class:"form-control",placeholder:"Enter ingredient"},null,8,C),[[o.Jo,q.value[n]]]),(0,a.Lk)("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return Y(n)}},t[15]||(t[15]=[(0,a.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,R)])})),128)),(0,a.Lk)("button",{type:"button",class:"btn btn-outline-primary",onClick:D}," Add Ingredient ")]),(0,a.Lk)("div",null,[t[19]||(t[19]=(0,a.Lk)("label",{class:"form-label"},"Instruction Groups",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(B.value,(function(e,n){return(0,a.uX)(),(0,a.CE)("div",{key:n,class:"mb-3 border p-3 rounded"},[(0,a.Lk)("div",x,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":function(t){return e.name=t},class:"form-control mb-2",placeholder:"Group name"},null,8,A),[[o.Jo,e.name]]),(0,a.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-danger ms-2",onClick:function(e){return Z(n)}},t[17]||(t[17]=[(0,a.Lk)("i",{class:"bi bi-x-circle"},null,-1)]),8,F)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.steps,(function(r,i){return(0,a.uX)(),(0,a.CE)("div",{key:i,class:"input-group mb-2"},[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":function(t){return e.steps[i]=t},class:"form-control",placeholder:"Step"},null,8,_),[[o.Jo,e.steps[i]]]),(0,a.Lk)("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return te(n,i)}},t[18]||(t[18]=[(0,a.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,E)])})),128)),(0,a.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:function(e){return ee(n)}}," Add Step ",8,I)])})),128)),(0,a.Lk)("button",{type:"button",class:"btn btn-outline-primary",onClick:z}," Add Instruction Group ")]),(0,a.Lk)("div",S,[t[20]||(t[20]=(0,a.Lk)("div",{class:"d-flex align-items-center mb-1"},[(0,a.Lk)("label",{class:"form-label me-2"},"Image URL"),(0,a.Lk)("button",{type:"button",class:"btn btn-link p-0 m-0","data-bs-toggle":"popover",title:"Image URL Sources",style:{"font-size":"1rem"}},[(0,a.Lk)("i",{class:"bi bi-info-circle"})])],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return J.value=e}),class:"form-control",placeholder:"Enter image URL",onInput:Q},null,544),[[o.Jo,J.value]]),G.value?((0,a.uX)(),(0,a.CE)("div",P,[(0,a.Lk)("img",{src:G.value,alt:"Image Preview",style:{"max-width":"200px","max-height":"150px"}},null,8,M)])):(0,a.Q3)("",!0)])]),t[22]||(t[22]=(0,a.Lk)("div",{class:"modal-footer"},[(0,a.Lk)("button",{type:"submit",class:"btn btn-success w-100"},"Submit Recipe")],-1))],32)])])],512)}}};var U=n(71241);const X=(0,U.A)(O,[["__scopeId","data-v-d93ad7ae"]]),V=X},9645:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(56768),i=n(24232),a={class:"container mb-4"},o={class:"d-flex justify-content-between align-items-center mb-3"},l={class:"mb-0"},s={class:"row g-4"};function c(e,t,n,c,u,d){var p=(0,r.g2)("RecipePreview");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("div",o,[(0,r.Lk)("h3",l,(0,i.v_)(n.title),1),"/recipes/random"===n.endpoint?((0,r.uX)(),(0,r.CE)("i",{key:0,class:"bi bi-arrow-clockwise refresh-icon",onClick:t[0]||(t[0]=function(){return d.refreshRandomRecipes&&d.refreshRandomRecipes.apply(d,arguments)}),title:"Refresh Random Recipes"})):(0,r.Q3)("",!0)]),(0,r.Lk)("div",s,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.recipes,(function(e){return(0,r.uX)(),(0,r.CE)("div",{class:(0,i.C4)(["col","col-md-".concat(Math.floor(12/Math.min(u.recipes.length,4)))]),key:e.id},[(0,r.bF)(p,{class:"recipePreview",recipe:e,onUpdatePopularityIncrease:d.increasePopularity,onUpdatePopularityDecrease:d.decreasePopularity,onUpdateFavorite:d.updateFavorite},null,8,["recipe","onUpdatePopularityIncrease","onUpdatePopularityDecrease","onUpdateFavorite"])],2)})),128))])])}var u=n(20908),d=n(74721),p=n(30388),m=(n(50113),n(60739),n(18111),n(20116),n(33110),n(79432),n(26099),n(49330)),f="cached_random_recipes";const b={name:"RecipePreviewList",components:{RecipePreview:m.A},props:{title:{type:String,required:!0},endpoint:{type:String,required:!0},withCredentials:{type:Boolean,default:!1}},data:function(){return{recipes:[]}},mounted:function(){this.updateRecipes()},methods:{updateRecipes:function(){var e=this;return(0,p.A)((0,u.A)().m((function t(){var n,r,i;return(0,u.A)().w((function(t){while(1)switch(t.n){case 0:if("/recipes/random"!==e.endpoint){t.n=1;break}if(n=localStorage.getItem(f),!n){t.n=1;break}return e.recipes=JSON.parse(n),t.a(2);case 1:return t.p=1,t.n=2,e.axios.get(e.$root.store.server_domain+e.endpoint,e.withCredentials?{withCredentials:!0}:void 0);case 2:r=t.v,e.recipes=(0,d.A)(r.data),0===e.recipes.length&&e.$emit("recipes-empty"),"/recipes/random"===e.endpoint&&localStorage.setItem(f,JSON.stringify(e.recipes)),t.n=4;break;case 3:t.p=3,i=t.v,console.log("Error getting recipes",i),e.recipes=[],e.$emit("recipes-empty");case 4:return t.a(2)}}),t,null,[[1,3]])})))()},refreshRandomRecipes:function(){var e=this;return(0,p.A)((0,u.A)().m((function t(){return(0,u.A)().w((function(t){while(1)switch(t.n){case 0:return localStorage.removeItem(f),t.n=1,e.updateRecipes();case 1:return t.a(2)}}),t)})))()},increasePopularity:function(e){var t=this.recipes.find((function(t){return t.id===e}));t&&(t.popularity++,this.updateRandomStorage())},decreasePopularity:function(e){var t=this.recipes.find((function(t){return t.id===e}));t&&t.popularity>0&&(t.popularity--,this.updateRandomStorage())},updateFavorite:function(e){var t=e.id,n=e.isFavorite,r=this.recipes.find((function(e){return e.id===t}));r&&(r.isFavoriteRecipe=n,this.updateRandomStorage())},updateRandomStorage:function(){"/recipes/random"===this.endpoint&&localStorage.setItem(f,JSON.stringify(this.recipes))}}};var v=n(71241);const g=(0,v.A)(b,[["render",c],["__scopeId","data-v-ede89fb0"]]),h=g},11012:(e,t,n)=>{n(23792),n(3362),n(69085),n(9391),n(26099);var r=n(45130),i=n(56768),a=n(24232),o={id:"page-content-wrapper"};function l(e,t,n,r,l,s){var c=(0,i.g2)("AppSidebar"),u=(0,i.g2)("router-view"),d=(0,i.g2)("CreateRecipeModal");return(0,i.uX)(),(0,i.CE)("div",{id:"app",class:(0,a.C4)({toggled:r.isSidebarToggled})},[t[0]||(t[0]=(0,i.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap",rel:"stylesheet"},null,-1)),(0,i.bF)(c,{isToggled:r.isSidebarToggled,onToggle:r.toggleSidebar,onOpenCreateRecipe:r.openRecipeModal},null,8,["isToggled","onToggle","onOpenCreateRecipe"]),(0,i.Lk)("div",o,[(0,i.bF)(u)]),(0,i.bF)(d,{ref:"recipeModalRef"},null,512)],2)}n(44114);var s=n(90144),c=n(27411),u={id:"sidebar-wrapper"},d={key:0,class:"bi bi-list"},p={key:1,class:"bi bi-x-lg"},m={class:"sidebar bg-dark text-light vh-100 position-fixed p-3"},f={class:"sidebar-brand mb-4 text-center"},b={class:"nav-link disabled text-secondary"},v={class:"nav flex-column"},g={class:"nav-item"},h={key:0,class:"nav-item"},k={key:1,class:"nav-item"},y=["aria-expanded"],L={key:0,class:"ms-3"},w={class:"mt-auto pt-3"};function C(e,t,n,o,l,s){var c=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("button",{class:"btn btn-dark hamburger",onClick:t[0]||(t[0]=function(t){return e.$emit("toggle")})},[n.isToggled?((0,i.uX)(),(0,i.CE)("i",d)):((0,i.uX)(),(0,i.CE)("i",p))]),(0,i.Lk)("nav",m,[(0,i.Lk)("div",f,[(0,i.bF)(c,{to:"/",class:"text-decoration-none text-light h5"},{default:(0,i.k6)((function(){return t[4]||(t[4]=[(0,i.eW)(" Lior&Asaf")])})),_:1})]),(0,i.Lk)("span",b," Hello "+(0,a.v_)(l.store.username?l.store.username:"guest")+" ! ",1),(0,i.Lk)("ul",v,[(0,i.Lk)("li",g,[(0,i.bF)(c,{to:"/search",class:"nav-link text-light"},{default:(0,i.k6)((function(){return t[5]||(t[5]=[(0,i.Lk)("i",{class:"bi bi-search me-2"},null,-1),(0,i.eW)("Search ")])})),_:1})]),l.store.username?((0,i.uX)(),(0,i.CE)("li",k,[(0,i.Lk)("button",{class:"nav-link btn btn-link text-light text-start w-100 d-flex justify-content-between align-items-center",type:"button",onClick:t[1]||(t[1]=function(e){return l.showAccountMenu=!l.showAccountMenu}),"aria-expanded":l.showAccountMenu},[t[9]||(t[9]=(0,i.Lk)("span",null,[(0,i.Lk)("i",{class:"bi bi-person-circle me-2"}),(0,i.eW)("My Account ")],-1)),(0,i.Lk)("i",{class:(0,a.C4)(["bi bi-chevron-down transition",{rotate:l.showAccountMenu}])},null,2)],8,y),(0,i.bF)(r.eB,{name:"slide"},{default:(0,i.k6)((function(){return[l.showAccountMenu?((0,i.uX)(),(0,i.CE)("div",L,[(0,i.bF)(c,{to:"/favorite-page",class:"nav-link text-light ms-3"},{default:(0,i.k6)((function(){return t[10]||(t[10]=[(0,i.Lk)("i",{class:"bi bi-heart-fill me-2"},null,-1),(0,i.eW)("Favorites ")])})),_:1}),(0,i.bF)(c,{to:"/my-recipes",class:"nav-link text-light ms-3"},{default:(0,i.k6)((function(){return t[11]||(t[11]=[(0,i.Lk)("i",{class:"bi bi-journal-text me-2"},null,-1),(0,i.eW)("My Recipes ")])})),_:1}),(0,i.Lk)("button",{onClick:t[2]||(t[2]=function(t){return e.$emit("open-create-recipe")}),class:"nav-link btn btn-link text-light text-start ms-3"},t[12]||(t[12]=[(0,i.Lk)("i",{class:"bi bi-pencil-square me-2"},null,-1),(0,i.eW)("Create Recipe ")])),(0,i.Lk)("button",{onClick:t[3]||(t[3]=function(){return s.logout&&s.logout.apply(s,arguments)}),class:"nav-link btn btn-link text-light text-start ms-3"},t[13]||(t[13]=[(0,i.Lk)("i",{class:"bi bi-box-arrow-right me-2"},null,-1),(0,i.eW)("Logout ")]))])):(0,i.Q3)("",!0)]})),_:1})])):((0,i.uX)(),(0,i.CE)("li",h,[(0,i.bF)(c,{to:"/register",class:"nav-link text-light"},{default:(0,i.k6)((function(){return t[6]||(t[6]=[(0,i.Lk)("i",{class:"bi bi-person-plus me-2"},null,-1),(0,i.eW)("Register ")])})),_:1}),(0,i.bF)(c,{to:"/login",class:"nav-link text-light"},{default:(0,i.k6)((function(){return t[7]||(t[7]=[(0,i.Lk)("i",{class:"bi bi-box-arrow-in-right me-2"},null,-1),(0,i.eW)("Login ")])})),_:1}),(0,i.bF)(c,{to:"/",class:"nav-link text-light"},{default:(0,i.k6)((function(){return t[8]||(t[8]=[(0,i.Lk)("i",{class:"bi bi-house-door me-2"},null,-1),(0,i.eW)("Main ")])})),_:1})]))]),(0,i.Lk)("div",w,[(0,i.bF)(c,{to:"/family-recipes",class:"nav-link text-light"},{default:(0,i.k6)((function(){return t[14]||(t[14]=[(0,i.Lk)("i",{class:"bi bi-people-fill me-2"},null,-1),(0,i.eW)("Family Recipes ")])})),_:1}),(0,i.bF)(c,{to:"/about",class:"nav-link text-light"},{default:(0,i.k6)((function(){return t[15]||(t[15]=[(0,i.Lk)("i",{class:"bi bi-info-circle me-2"},null,-1),(0,i.eW)("About Us ")])})),_:1})])])])}const R={name:"AppSidebar",props:{isToggled:{type:Boolean,required:!0}},data:function(){var e=(0,i.nI)();return{showAccountMenu:!1,store:e.appContext.config.globalProperties.store,router:e.appContext.config.globalProperties.$router,toast:(0,c.dj)()}},mounted:function(){},methods:{logout:function(){this.store.logout(),this.toast.success("User logged out successfully"),this.router.push("/login")["catch"]((function(){}))},CreateRecipe:function(){this.store.username?this.router.push("/create-recipe")["catch"]((function(){})):this.toast.error("You need to log in to create a recipe.")}}};var x=n(71241);const A=(0,x.A)(R,[["render",C],["__scopeId","data-v-6b3da3f9"]]),F=A;var _=n(712);const E={name:"App",components:{AppSidebar:F,CreateRecipeModal:_["default"]},setup:function(){var e=(0,i.nI)(),t=e.appContext.config.globalProperties.store,n=e.appContext.config.globalProperties.$router,r=(0,c.dj)(),a=(0,s.KR)(!1),o=function(){a.value=!a.value},l=function(){t.logout(),r.success("User logged out successfully"),n.push("/login")["catch"]((function(){}))},u=(0,s.KR)(null),d=function(){var e;t.username?null===(e=u.value)||void 0===e||e.showModal():r.error("You need to log in to create a recipe.")};return{store:t,logout:l,favorite:function(){return n.push("/favorite-page")},isSidebarToggled:a,toggleSidebar:o,openRecipeModal:d,recipeModalRef:u}}},I=(0,x.A)(E,[["render",l],["__scopeId","data-v-384bb159"]]),S=I;n(47764),n(62953);var P={class:"container"},M={key:0,class:"text-center mt-3"},O={key:1};function U(e,t,n,r,a,o){var l=(0,i.g2)("RecipePreviewList"),s=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",P,[t[2]||(t[2]=(0,i.Lk)("h1",{class:"title"},"Main Page",-1)),(0,i.bF)(l,{title:"Random Recipes",endpoint:"/recipes/random"}),(0,i.Lk)("div",null,[t[1]||(t[1]=(0,i.Lk)("h3",{class:"mb-0"},"Last Viewed Recipes",-1)),r.store.username?((0,i.uX)(),(0,i.CE)("div",O,[(0,i.bF)(l,{endpoint:"/users/getLastViewedRecipes",withCredentials:!0})])):((0,i.uX)(),(0,i.CE)("div",M,[(0,i.bF)(s,{to:{name:"login"}},{default:(0,i.k6)((function(){return t[0]||(t[0]=[(0,i.Lk)("button",{class:"btn btn-primary"},"You need to Login to view this",-1)])})),_:1})]))])])}var X=n(9645);const V={components:{RecipePreviewList:X.A},setup:function(){var e=(0,i.nI)(),t=e.appContext.config.globalProperties.store;return{store:t}}},j=(0,x.A)(V,[["render",U],["__scopeId","data-v-d8e70c1c"]]),T=j;var K={class:"container"};function W(e,t){var n=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",K,[t[1]||(t[1]=(0,i.Lk)("h1",null,"Four Oh Four you didn't",-1)),(0,i.bF)(n,{to:"/",exact:""},{default:(0,i.k6)((function(){return t[0]||(t[0]=[(0,i.eW)("ET Go Home")])})),_:1})])}const $={},N=(0,x.A)($,[["render",W]]),q=N;var B=[{path:"/",name:"main",component:T},{path:"/register",name:"register",component:function(){return Promise.all([n.e(421),n.e(852)]).then(n.bind(n,93257))}},{path:"/login",name:"login",component:function(){return Promise.all([n.e(421),n.e(521)]).then(n.bind(n,98521))}},{path:"/search",name:"search",component:function(){return n.e(247).then(n.bind(n,70782))}},{path:"/recipe/:recipeId",name:"recipe",component:function(){return n.e(953).then(n.bind(n,29953))}},{path:"/create-recipe",name:"create-recipe",component:function(){return Promise.resolve().then(n.bind(n,712))}},{path:"/favorite-page",name:"favorite-page",component:function(){return n.e(801).then(n.bind(n,89801))}},{path:"/my-recipes",name:"my-recipes",component:function(){return n.e(399).then(n.bind(n,8399))}},{path:"/:catchAll(.*)",name:"notFound",component:q},{path:"/about",name:"about",component:function(){return n.e(970).then(n.bind(n,55970))}},{path:"/family-recipes",name:"family-recipes",component:function(){return n.e(258).then(n.bind(n,97258))}}];const J=B;var G=n(37307),H=n(56942),Q=n(81387),D=(n(99953),n(88047)),Y=(0,s.Kh)({username:localStorage.getItem("username"),server_domain:"http://localhost:3000",login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username)},logout:function(){var e=this;window.axios.post("/Logout",{},{withCredentials:!0}).then((function(t){console.log("Logged out:",t.data),localStorage.removeItem("username"),localStorage.removeItem("lastSearchResults"),localStorage.removeItem("lastSearchInput"),e.username=void 0,e.$router.push("/login")["catch"]((function(){}))}))["catch"]((function(e){console.error("Logout failed:",e)}))}});const z=Y;n(47917);window.store=z;var Z=(0,Q.aE)({history:(0,Q.LA)(),routes:J});G.A.defaults.baseURL="http://localhost:3000",G.A.defaults.withCredentials=!0,G.A.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),G.A.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var ee=(0,r.Ef)(S);ee.use(Z),ee.use(H.A,G.A),ee.use(D.Ay),ee.use(c.Ay,{position:c.II.TOP_RIGHT,timeout:8e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,hideProgressBar:!1,closeButton:"button",icon:!0}),ee.component("BContainer",D.tu),ee.component("BRow",D.Ls),ee.component("BCol",D.T5),window.axios=G.A,window.router=Z,ee.config.globalProperties.store=z,ee.mount("#app")},49330:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(56768),i=n(24232),a={class:"image-wrapper"},o=["src"],l={key:1,class:"bi bi-eye-fill eye-icon",title:"Viewed"},s={class:"card-body text-center"},c={class:"card-title"},u={class:"card-text mb-1"},d={class:"card-text"},p={class:"card-footer d-flex justify-content-between align-items-center icon-footer"},m={class:"d-flex align-items-center"},f={key:0,class:"bi bi-leaf icon-vegan",title:"Vegan"},b={key:1,class:"bi bi-egg-fried icon-vegetarian",title:"Vegetarian"},v=["title"],g={class:"d-flex align-items-center"};function h(e,t,n,h,k,y){return(0,r.uX)(),(0,r.CE)("div",{class:"card h-100 recipe-card shadow-sm",onClick:t[1]||(t[1]=function(){return y.openRecipeViewPage&&y.openRecipeViewPage.apply(y,arguments)})},[(0,r.Lk)("div",a,[n.recipe.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:n.recipe.image,class:"card-img-top recipe-image",alt:"Recipe image"},null,8,o)):(0,r.Q3)("",!0),n.recipe.isViewedRecipe?((0,r.uX)(),(0,r.CE)("i",l)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",s,[(0,r.Lk)("h5",c,(0,i.v_)(n.recipe.title),1),(0,r.Lk)("p",u,[t[2]||(t[2]=(0,r.Lk)("i",{class:"bi bi-clock me-1"},null,-1)),(0,r.eW)((0,i.v_)(n.recipe.readyInMinutes)+" Minutes ",1)]),(0,r.Lk)("p",d,[t[3]||(t[3]=(0,r.Lk)("i",{class:"bi bi-fire me-1"},null,-1)),(0,r.eW)((0,i.v_)(n.recipe.popularity),1)])]),(0,r.Lk)("div",p,[(0,r.Lk)("div",m,[n.recipe.vegan?((0,r.uX)(),(0,r.CE)("i",f)):(0,r.Q3)("",!0),n.recipe.vegetarian?((0,r.uX)(),(0,r.CE)("i",b)):(0,r.Q3)("",!0),(0,r.Lk)("i",{class:"bi bi-flower1 icon-glutenfree",title:n.recipe.glutenFree?"Gluten-Free":"Contains Gluten",style:(0,i.Tr)({color:n.recipe.glutenFree?"#4caf50":"#ff5252"})},null,12,v)]),(0,r.Lk)("div",g,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=function(){return y.toggleFavorite&&y.toggleFavorite.apply(y,arguments)}),class:"btn-icon"},[(0,r.Lk)("i",{class:(0,i.C4)(k.favorited?"bi bi-star-fill":"bi bi-star")},null,2)])])])])}var k=n(20908),y=n(30388),L=(n(44114),n(60739),n(33110),n(27411));const w={name:"RecipePreview",props:{recipe:{type:Object,required:!0}},data:function(){return{favorited:this.recipe.isFavoriteRecipe||!1,toast:null}},created:function(){this.toast=(0,L.dj)()},methods:{toggleFavorite:function(e){var t=this;return(0,y.A)((0,k.A)().m((function n(){var r;return(0,k.A)().w((function(n){while(1)switch(n.n){case 0:if(e.stopPropagation(),window.store.username){n.n=1;break}return t.toast.error("Log in to mark this recipe as a favorite."),n.a(2);case 1:if(r=!t.favorited,t.favorited=r,n.p=2,!r){n.n=4;break}return t.$emit("update-popularity-increase",t.recipe.id),t.$emit("update-favorite",{id:t.recipe.id,isFavorite:!0}),n.n=3,t.axios.post(t.$root.store.server_domain+"/users/favorites/",{recipeId:t.recipe.id});case 3:n.n=5;break;case 4:return t.$emit("update-popularity-decrease",t.recipe.id),t.$emit("update-favorite",{id:t.recipe.id,isFavorite:!1}),n.n=5,t.axios["delete"](t.$root.store.server_domain+"/users/favorites/",{data:{recipeId:t.recipe.id}});case 5:n.n=7;break;case 6:n.p=6,n.v,t.toast.error("Failed to update favorite status."),t.favorited=!r;case 7:return n.a(2)}}),n,null,[[2,6]])})))()},openRecipeViewPage:function(){localStorage.setItem("currentFullViewRecipe",JSON.stringify(this.recipe)),this.$router.push({name:"recipe",params:{recipeId:this.recipe.id}})}}};var C=n(71241);const R=(0,C.A)(w,[["render",h],["__scopeId","data-v-78d9e77e"]]),x=R}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{n.amdO={}})(),(()=>{var e=[];n.O=(t,r,i,a)=>{if(!r){var o=1/0;for(u=0;u<e.length;u++){for(var[r,i,a]=e[u],l=!0,s=0;s<r.length;s++)(!1&a||o>=a)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(l=!1,a<o&&(o=a));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,i,a]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{247:"a31b5f76",258:"878d318d",399:"7c3a3c9d",421:"e885a5f4",521:"12030139",801:"0b263592",852:"9047d08d",953:"a7143035",970:"dd6f7120"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+e+"."+{247:"76f6410c",258:"3b392745",399:"4ec84961",521:"ffb8f907",801:"025aa3e6",852:"9b892d77",953:"8b115311",970:"044aaa21"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="assignment3_3-frontend-main:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var l,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){l=d;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+a),l.src=r),e[r]=[i];var p=(t,n)=>{l.onerror=l.onload=null,clearTimeout(m);var i=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((e=>e(n))),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,r,i,a)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",n.nc&&(o.nonce=n.nc);var l=n=>{if(o.onerror=o.onload=null,"load"===n.type)i();else{var r=n&&n.type,l=n&&n.target&&n.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+l+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=r,s.request=l,o.parentNode&&o.parentNode.removeChild(o),a(s)}};return o.onerror=o.onload=l,o.href=t,r?r.parentNode.insertBefore(o,r.nextSibling):document.head.appendChild(o),o},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=n[r],a=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){i=o[r],a=i.getAttribute("data-href");if(a===e||a===t)return i}},r=r=>new Promise(((i,a)=>{var o=n.miniCssF(r),l=n.p+o;if(t(o,l))return i();e(r,l,null,i,a)})),i={524:0};n.f.miniCss=(e,t)=>{var n={247:1,258:1,399:1,521:1,801:1,852:1,953:1,970:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=r(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))}}})(),(()=>{var e={524:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=a);var o=n.p+n.u(t),l=new Error,s=r=>{if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,i[1](l)}};n.l(o,s,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var i,a,[o,l,s]=r,c=0;if(o.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var u=s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self["webpackChunkassignment3_3_frontend_main"]=self["webpackChunkassignment3_3_frontend_main"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[504],(()=>n(11012)));r=n.O(r)})();
//# sourceMappingURL=app.f835f365.js.map