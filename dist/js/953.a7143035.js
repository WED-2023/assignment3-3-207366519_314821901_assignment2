"use strict";(self["webpackChunkassignment3_3_frontend_main"]=self["webpackChunkassignment3_3_frontend_main"]||[]).push([[953],{29953:(e,n,r)=>{r.r(n),r.d(n,{default:()=>C});var t=r(56768),i=r(24232),a={class:"container"},s={key:0},c={class:"recipe-header mt-3 mb-4"},l=["src"],u={class:"recipe-body"},o={class:"wrapper"},d={class:"wrapped"},p={class:"mb-3"},v={class:"d-flex align-items-center"},g={key:0,class:"bi bi-leaf icon-vegan",title:"Vegan"},f={key:1,class:"bi bi-egg-fried icon-vegetarian",title:"Vegetarian"},k=["title"],m={class:"wrapped"};function y(e,n,r,y,h,w){return(0,t.uX)(),(0,t.CE)("div",a,[h.recipe?((0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("div",c,[(0,t.Lk)("h1",null,(0,i.v_)(h.recipe.title),1),(0,t.Lk)("img",{src:h.recipe.image,class:"center"},null,8,l)]),(0,t.Lk)("div",u,[(0,t.Lk)("div",o,[(0,t.Lk)("div",d,[(0,t.Lk)("div",p,[(0,t.Lk)("div",null,"Ready in "+(0,i.v_)(h.recipe.readyInMinutes)+" minutes",1),(0,t.Lk)("div",null,"Likes: "+(0,i.v_)(h.recipe.popularity)+" likes",1),(0,t.Lk)("div",null,"Servings: "+(0,i.v_)(h.recipe.servings)+" servings",1),(0,t.Lk)("div",v,[h.recipe.vegan?((0,t.uX)(),(0,t.CE)("i",g)):(0,t.Q3)("",!0),h.recipe.vegetarian?((0,t.uX)(),(0,t.CE)("i",f)):(0,t.Q3)("",!0),(0,t.Lk)("i",{class:"bi bi-flower1 icon-glutenfree",title:h.recipe.glutenFree?"Gluten-Free":"Contains Gluten",style:(0,i.Tr)({color:h.recipe.glutenFree?"#4caf50":"#ff5252"})},null,12,k)])]),n[0]||(n[0]=(0,t.Lk)("strong",null,"Ingredients:",-1)),(0,t.Lk)("ul",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(h.recipe.extendedIngredients,(function(e,n){return(0,t.uX)(),(0,t.CE)("li",{key:n+"_"+e.id},(0,i.v_)(e.original),1)})),128))])]),(0,t.Lk)("div",m,[n[1]||(n[1]=(0,t.Lk)("strong",null,"Instructions:",-1)),(0,t.Lk)("ol",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(h.recipe._instructions,(function(e){return(0,t.uX)(),(0,t.CE)("li",{key:e.number},(0,i.v_)(e.step),1)})),128))])])])])])):(0,t.Q3)("",!0)])}var h=r(41034),w=r(20908),_=r(30388);r(78350),r(62062),r(30237),r(62010),r(18111),r(30531),r(61701),r(79432),r(26099),r(27495),r(25440);const I={props:{recipeProp:{type:Object,default:null}},data:function(){return{recipe:null}},watch:{recipeProp:{handler:function(e){e&&this.processRecipeData(e)},immediate:!0}},created:function(){var e=this;return(0,_.A)((0,w.A)().m((function n(){var r,t,i,a,s;return(0,w.A)().w((function(n){while(1)switch(n.n){case 0:if(console.log("Created hook called"),e.recipeProp){n.n=6;break}n.p=1,r=null;try{t=localStorage.getItem("currentFullViewRecipe"),r=t?JSON.parse(t):null}catch(c){r=null}if(r){n.n=4;break}return i=e.$route.params.recipeId,n.n=2,e.axios.get(e.$root.store.server_domain+"/recipes/searchById/"+i);case 2:if(a=n.v,200===a.status&&a.data){n.n=3;break}return e.$router.replace("/NotFound"),n.a(2);case 3:r=a.data;case 4:e.processRecipeData(r),n.n=6;break;case 5:n.p=5,s=n.v,console.log("Unexpected error:",s),e.$router.replace("/NotFound");case 6:return n.a(2)}}),n,null,[[1,5]])})))()},methods:{processRecipeData:function(e){var n,r=e.id,t=e.analyzedInstructions,i=e.extendedIngredients,a=e.popularity,s=e.readyInMinutes,c=e.image,l=e.title,u=e.servings,o=e.vegan,d=e.vegetarian,p=e.glutenFree,v=e.internal;try{n="string"===typeof t?JSON.parse(t):t}catch(f){console.warn("Failed to parse analyzedInstructions:",f),n=[]}var g=n.flatMap((function(e){return e.steps.map((function(n){return(0,h.A)((0,h.A)({},n),{},{step:(e.name?e.name+": ":"")+n.step})}))}));this.recipe={_instructions:g,analyzedInstructions:t,extendedIngredients:i,popularity:a,readyInMinutes:s,image:c,title:l,servings:u,vegan:o,vegetarian:d,glutenFree:p},window.store.username&&(console.log("entered to add to viewed recipes"),this.addToViewedRecipes(r,v))},addToViewedRecipes:function(e,n){var r=this;return(0,_.A)((0,w.A)().m((function t(){return(0,w.A)().w((function(t){while(1)switch(t.n){case 0:return t.n=1,r.axios.post(r.$root.store.server_domain+"/users/addToViewRecipe/",{recipeId:e,internalRecipe:n});case 1:return t.a(2)}}),t)})))()}}};var L=r(71241);const b=(0,L.A)(I,[["render",y],["__scopeId","data-v-f44f2a78"]]),C=b}}]);
//# sourceMappingURL=953.a7143035.js.map